<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>
<body>
    <div></div>
    <div></div>
    <div></div>
    <div></div>
</body>
<script>
    function isArrayLike ( array ) {
        
        var length = array && array.length;

        return typeof length === 'number' && length >= 0;

    }
    
    function map ( array, callback ) {
        var i, k,
            res = [],
            tmp;
        if ( isArrayLike( array ) ) {
            // 使用 for 循环
            for ( i= 0; i < array.length; i++ ) {
                tmp = callback( array[ i ], i );
                if ( tmp !== undefined ) {
                    res.push( tmp );
                }
            }
        } else {
            // 使用 for-in 循环
            for ( k in array ) {
                tmp = callback( array[ k ], k );
                if ( tmp !== undefined ) {
                    res.push( tmp );
                }
            }
        }
        return res; 
    }


    var arr = [ 1,2,3,4,5,6,7,8,9,0];

    var array = map( arr, function ( v ) {
        if ( v % 2 == 0 ) {
            return v;
        }
    });

    console.log( array );

</script>
</html>